{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _templateObject;\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from \"next/router\";\nimport { gql, useQuery } from '@apollo/client';\nimport { useState, useContext } from 'react';\nimport AppContext from \"./context\";\nimport { Button, Card, CardBody, CardImg, CardText, CardTitle, Row, Col } from \"reactstrap\";\nfunction Dishes(_ref) {\n  var restId = _ref.restId;\n  var _useState = useState(),\n    restaurantID = _useState[0],\n    setRestaurantID = _useState[1];\n  var _useContext = useContext(AppContext),\n    addItem = _useContext.addItem;\n  var GET_RESTAURANT_DISHES = gql(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  query($id: ID!) {\\n    restaurant(id: $id) {\\n      id\\n      name\\n      dishes {\\n        id\\n        name\\n        description\\n        price\\n        image {\\n          url\\n        }\\n      }\\n    }\\n  }\\n\"])));\n  var router = useRouter();\n  var _useQuery = useQuery(GET_RESTAURANT_DISHES, {\n      variables: {\n        id: restId\n      }\n    }),\n    loading = _useQuery.loading,\n    error = _useQuery.error,\n    data = _useQuery.data;\n  if (loading) return /*#__PURE__*/React.createElement(\"p\", null, \"Loading...\");\n  if (error) return /*#__PURE__*/React.createElement(\"p\", null, \"ERROR here\");\n  if (!data) return /*#__PURE__*/React.createElement(\"p\", null, \"Not found\");\n  var restaurant = data.restaurant;\n  if (restId > 0) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, restaurant.dishes.map(function (res) {\n      return /*#__PURE__*/React.createElement(Col, {\n        xs: \"6\",\n        sm: \"4\",\n        style: {\n          padding: 0\n        },\n        key: res.id\n      }, /*#__PURE__*/React.createElement(Card, {\n        style: {\n          margin: \"0 10px\"\n        }\n      }, /*#__PURE__*/React.createElement(CardImg, {\n        top: true,\n        style: {\n          height: 150,\n          width: 150\n        },\n        src: res.image ? \"http://localhost:1337\".concat(res.image.url) : 'path_to_some_default_image'\n      }), /*#__PURE__*/React.createElement(CardBody, null, /*#__PURE__*/React.createElement(CardTitle, null, res.name), /*#__PURE__*/React.createElement(CardText, null, res.description)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-footer\"\n      }, /*#__PURE__*/React.createElement(Button, {\n        color: \"info\",\n        outline: true,\n        onClick: function onClick() {\n          return addItem(res);\n        }\n      }, \"+ Add To Cart\"))));\n    }));\n  } else {\n    return /*#__PURE__*/React.createElement(\"h1\", null, \" No Dishes\");\n  }\n}\nexport default Dishes;","map":null,"metadata":{},"sourceType":"module"}